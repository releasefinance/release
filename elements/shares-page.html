<link rel="import" href="./release-animated-page.html">
<link rel="import" href="../bower_components/paper-slider/paper-slider.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<dom-module id="shares-page">

  <style>
    h3 {
      max-width: 36em;
    }

    :root {
      margin-top: 24px;
    }

    .container {
      text-align: center;
    }

    .container paper-slider /deep/ #sliderKnobInner.paper-slider {
      background-color: #FFB943;
    }

    .container paper-slider.paper-slider-0:not([disabled]) /deep/ #sliderBar.paper-slider #activeProgress.paper-progress {
      background-color: #FFB943;
    } 

    paper-fab.yellow {
      background: #FFB943;
    }
    
  </style>

  <template>
    <div class="flex layout horizontal self-center container">
      <div class="centered self-center">
        <div class="container">
          <h3>How many days a month would you be willing to allow someone else to drive your car?</h3>

          <paper-slider id="valueSlider" class="red" on-immediate-value-change="valueChange" value="{{shares}}" min="0" max="20"></paper-slider>

          <h1>{{immediateShares}}</h1>

          <paper-fab class="yellow" icon="arrow-forward" on-click="forward"></paper-fab>

          <p class="skip" on-click="skip">Prefer not to share my car</p>
        </div>
      </div>
    </div>
  </template>
</dom-module>
<script>
  Polymer({
    is: "shares-page",
    properties: {
      shares: {
        type: Number,
        notify: true
      },
      immediateShares: Number
    },
    ready: function() {
      this.immediateShares = this.shares;
    },
    forward: function() {
      //analytics.track('Chose Shares', { shares: this.shares });
      this.fire('forward');
    },
    skip: function() {
      this.shares = 0;
      //analytics.track('Chose Shares', { shares: this.shares });
      this.fire('forward');
    },
    valueChange: function() {
      this.immediateShares = this.$.valueSlider.immediateValue;
    }
  });

</script>
